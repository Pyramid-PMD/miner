(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1090:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),o=r(8),i=r(45),l=r.n(i),s=r(94),c=r(12),u=r(1086),d=r(10),f=r.n(d),p=r(17),m=function(e){var t=e.getIn;return function(e,r){f()(e,"Form value must be specified");var n=r||function(e){return t(e,"form")};return function(r){for(var a=arguments.length,o=Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];return f()(o.length,"No fields specified"),1===o.length?t(n(r),e+".values."+o[0]):o.reduce(function(a,o){var i=t(n(r),e+".values."+o);return void 0===i?a:p.a.setIn(a,o,i)},{})}}}(p.a),h=r(1083),y=r(371),g=r(36),v=r.n(g),E=r(39),b=r(74),w=r(84),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var O=Object(h.a)(C({form:"registerForm"},Object(g.generateValidation)({email:{required:!0,email:!0,validateOnBlur:!0},verify_code:{required:!0},pwd:{required:!0,minLength:6,maxLength:15,validateOnBlur:!0},pwd_repeat:{required:!0,matchField:"pwd",validateOnBlur:!0}})))(Object(c.connect)(e=>{return{email:m("registerForm")(e,"email"),verified:e.verifyEmail,isEmailVerified:b.VerifyEmailSelectors.isVerified(e),error:w.RegisterSelectors.selectError(e)}},e=>({register:t=>e(w.default.registerRequest(t)),verifyEmail:t=>e(b.default.verifyEmailRequest(t))}))(class extends n.Component{constructor(...e){var t;return t=super(...e),this.handleSubmit=(e=>{const t=C({},e,{trade_pwd:e.pwd,trade_pwd_repeat:e.pwd});this.props.register(t)}),this.verifyEmail=(()=>{const{email:e,verifyEmail:t}=this.props;e&&t(e)}),this.renderInputField=(({input:e,label:t,type:r,placeholder:n,meta:i})=>a.a.createElement(o.a,null,t=>a.a.createElement("div",null,a.a.createElement("input",C({},e,{className:"form-control form-field",type:r,placeholder:n})),this.renderErrors(e,i,t)))),this.renderCodeField=(({input:e,label:t,type:r,placeholder:n,meta:i})=>a.a.createElement(o.a,null,t=>a.a.createElement("div",null,a.a.createElement("div",{className:"form-group row"},a.a.createElement("div",{className:"col-10"},a.a.createElement("input",C({},e,{className:"form-control form-field",type:r,placeholder:n}))),a.a.createElement("button",{type:"button",className:"btn col-2 form-link",onClick:this.verifyEmail},t("auth:sendCode"))),this.props.verified.error?a.a.createElement("div",null,t("auth:register.errors.codeVerificationError")):null,this.renderErrors(e,i,t)))),t}renderEmailErrors(e,t){return a.a.createElement(v.a,{tagName:"ul",meta:e,className:"form-errors list-unstyled"},a.a.createElement("li",{when:"email"},t("auth:login:errors.wrongEmailFormat")),a.a.createElement("li",{when:"required"},t("auth:login.errors.emailRequired")))}renderPasswordErrors(e,t){return a.a.createElement(v.a,{tagName:"ul",meta:e,className:"form-errors list-unstyled"},a.a.createElement("li",{when:"required"},t("auth:login.errors.passwordRequired")),a.a.createElement("li",{when:"minLength"},t("auth:register.errors.passwordMinLength")),a.a.createElement("li",{when:"maxLength"},t("auth:register.errors.passwordMaxLength")))}renderConfirmPasswordErrors(e,t){return a.a.createElement(v.a,{tagName:"ul",meta:e,className:"form-errors list-unstyled"},a.a.createElement("li",{when:"required"},t("auth:login.errors.passwordRequired")),a.a.createElement("li",{when:"matchField"},t("auth:register.errors.passwordMismatch")))}renderVerifyCodeErrors(e,t){return a.a.createElement(v.a,{tagName:"ul",meta:e,className:"form-errors list-unstyled"},a.a.createElement("li",{when:"required"},t("auth:register.errors.enterValidCode")))}showVerifiedEmailMessage(e){if(this.props.isEmailVerified)return a.a.createElement(E.d,{color:"success"},e("auth:register.emailVerifiedSuccess",{email:this.props.email}))}renderErrors(e,t,r){switch(e.name){case"email":return this.renderEmailErrors(t,r);case"pwd":return this.renderPasswordErrors(t,r);case"pwd_repeat":return this.renderConfirmPasswordErrors(t,r);case"verify_code":return this.renderVerifyCodeErrors(t,r)}}showErrorMessage(){if(this.props.error)return a.a.createElement(E.d,{color:"danger",fade:!1},this.props.error)}render(){const{handleSubmit:e}=this.props;return a.a.createElement(o.a,null,t=>a.a.createElement("div",null,this.showErrorMessage(),this.showVerifiedEmailMessage(t),a.a.createElement("form",{onSubmit:e(this.handleSubmit),noValidate:!0},a.a.createElement("div",{className:"form-group"},a.a.createElement(u.a,{name:"email",type:"email",component:this.renderInputField,placeholder:t("auth:email")})),a.a.createElement(u.a,{name:"verify_code",type:"text",component:this.renderCodeField,placeholder:t("auth:code")}),a.a.createElement("div",{className:"form-group"},a.a.createElement(u.a,{className:"form-control form-field",name:"pwd",type:"password",component:this.renderInputField,placeholder:t("auth:password")})),a.a.createElement("div",{className:"form-group"},a.a.createElement(u.a,{className:"form-control form-field",name:"pwd_repeat",type:"password",component:this.renderInputField,placeholder:t("auth:confirmPassword")})),a.a.createElement("div",{className:"d-flex justify-content-center margin-bottom-10"},a.a.createElement("button",{type:"submit",className:"btn btn-primary form-button"},t("common:interface.next"))),a.a.createElement("p",{className:"text-center"},a.a.createElement("span",{className:"text-secondary margin-right-4"},t("auth:haveAccount")),a.a.createElement(y.a,{to:"/login",className:"form-link"},t("auth:login.title"))))))}})),x=r(48),_=r(198);const N={backgroundImage:`url(${l.a.brand.pageBg})`};t.default=Object(c.connect)(e=>({disk_id:x.StartupSelectors.selectDiskSerial(e)}),{})(class extends n.Component{constructor(e){super(e),this.onCopy=(()=>{this.setState({copied:!0}),setTimeout(()=>{this.setState({copied:!1})},2e3)}),this.state={copied:!1}}render(){return a.a.createElement(o.a,null,e=>a.a.createElement("div",{className:"page page-register full-height",style:N},a.a.createElement("div",{className:"page-container d-flex flex-column full-height"},a.a.createElement(s.a,null),a.a.createElement("h2",{className:"text-center text-capitalize"},e("auth:register.title")),a.a.createElement("div",{className:"form-container"},a.a.createElement("p",{className:"text-secondary"},e("auth:register.introText")),a.a.createElement(O,null)),a.a.createElement("div",{className:"mt-auto d-flex align-items-baseline"},a.a.createElement("span",{className:"text-secondary mr-2"},e("common:interface.diskSerial"),": "),a.a.createElement("span",null,this.props.disk_id),a.a.createElement(_.CopyToClipboard,{text:this.props.disk_id,className:"btn",onCopy:this.onCopy},a.a.createElement("span",null,e("common:interface.copy"))),this.state.copied?a.a.createElement("span",null,e("common:interface.copiedToCB")):null))))}})},198:function(e,t,r){"use strict";var n=r(537).CopyToClipboard;n.CopyToClipboard=n,e.exports=n},273:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(535));t.default={required:function(e,t,r){return!!r&&!t},minLength:function(e,t,r){return!(!r||!t)&&t.length<r},maxLength:function(e,t,r){return!(!r||!t)&&t.length>r},email:function(e,t,r){return!(!r||!t)&&!/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(t)},min:function(e,t,r){return!(!r||!t)&&(!isFinite(t)||parseFloat(t)<r)},max:function(e,t,r){return!(!r||!t)&&(!isFinite(t)||parseFloat(t)>r)},pattern:function(e,t,r){return!!t&&!r.test(t)},equalTo:function(e,t,r){return!!t&&r!=t},oneOf:function(e,t,r){return!!t&&-1==r.indexOf(t)},url:function(e,t,r){return!!t&&!n.default.isUri(t)},promise:function(e,t,r,n,a,o,i,l){if("function"==typeof r)return r(e,t,n,a,o,i,l);throw new Error("FormValidation: type promise must be a function!")},digits:function(e,t){return!e||!/^\d+$/.test(t)},creditcard:function(e,t,r){if(!t)return!1;if(/[^0-9 \-]+/.test(t))return!0;var n,a,o=0,i=0,l=!1;if((t=t.replace(/\D/g,"")).length<13||t.length>19)return!1;for(n=t.length-1;n>=0;n--)a=t.charAt(n),i=parseInt(a,10),l&&(i*=2)>9&&(i-=9),o+=i,l=!l;return o%10!=0},matchField:function(e,t,r,n,a){return console.log("aaaaa",{field:e,value:t,prop:r,dispatch:n,allValues:a}),!!t&&("function"==typeof a.get?t!==a.get(r):t!==a[r])}},e.exports=t.default},36:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(534)),o=n(r(273)),i=r(536);t.default=a.default,t.generateValidation=i.generateValidation,t.addValidation=i.addValidation,t.addMultipleValidations=i.addMultipleValidations,t.generateAsyncBlurFields=i.generateAsyncBlurFields,t.generateAsyncValidation=i.generateAsyncValidation,t.basicValidations=o.default},534:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t,r){for(var n=!0;n;){var a=e,o=t,i=r;n=!1,null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var c=Object.getPrototypeOf(a);if(null===c)return;e=c,t=o,r=i,n=!0,l=c=void 0}};function o(e){return e&&e.__esModule?e:{default:e}}var i=r(1),l=o(i),s=o(r(0)),c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),n(t,[{key:"renderChildren",value:function(e,t,r){var n=t.error;if(t.touched&&n){var a=l.default.Children.toArray(e).filter(function(e){return e.props.when&&n[e.props.when]}),o=parseInt(r,10);return o<0?a:a.slice(0,o)}}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.meta,n=e.errorCount,a=e.tagName,o=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["children","meta","errorCount","tagName"]),i=this.renderChildren(t,r,n);return i&&i.length?l.default.createElement(a,o,i):null}}]),t}();t.default=c,c.defaultProps={errorCount:-1,tagName:"div"},c.propTypes={meta:s.default.object.isRequired,tagName:s.default.oneOfType([s.default.element,s.default.string]),errorCount:s.default.oneOfType([s.default.number,s.default.string])},e.exports=t.default},535:function(e,t,r){(function(e){!function(e){"use strict";e.exports.is_uri=r,e.exports.is_http_uri=n,e.exports.is_https_uri=a,e.exports.is_web_uri=o,e.exports.isUri=r,e.exports.isHttpUri=n,e.exports.isHttpsUri=a,e.exports.isWebUri=o;var t=function(e){return e.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/)};function r(e){if(e&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(e)&&!/%[^0-9a-f]/i.test(e)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(e)){var r,n,a,o,i,l="",s="";if(l=(r=t(e))[1],n=r[2],a=r[3],o=r[4],i=r[5],l&&l.length&&a.length>=0){if(n&&n.length){if(0!==a.length&&!/^\//.test(a))return}else if(/^\/\//.test(a))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(l.toLowerCase()))return s+=l+":",n&&n.length&&(s+="//"+n),s+=a,o&&o.length&&(s+="?"+o),i&&i.length&&(s+="#"+i),s}}}function n(e,n){if(r(e)){var a,o,i,l,s="",c="",u="",d="";if(s=(a=t(e))[1],c=a[2],o=a[3],i=a[4],l=a[5],s){if(n){if("https"!=s.toLowerCase())return}else if("http"!=s.toLowerCase())return;if(c)return/:(\d+)$/.test(c)&&(u=c.match(/:(\d+)$/)[0],c=c.replace(/:\d+$/,"")),d+=s+":",d+="//"+c,u&&(d+=u),d+=o,i&&i.length&&(d+="?"+i),l&&l.length&&(d+="#"+l),d}}}function a(e){return n(e,!0)}function o(e){return n(e)||a(e)}}(e)}).call(this,r(197)(e))},536:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addValidation=l,t.addMultipleValidations=s,t.generateAsyncValidation=c,t.generateAsyncBlurFields=u,t.generateValidation=function(e){return{asyncValidate:c(e),asyncBlurFields:u(e),fields:Object.keys(e)}};var a=n(r(273)),o=n(r(115)),i={};function l(e,t){i[e]=t}function s(e){Object.keys(e).forEach(function(t){return l(t,e[t])})}function c(e){return function(t,r,n,a){var l=[Promise.resolve()],s={};function c(e,t){var r=arguments.length<=2||void 0===arguments[2]||arguments[2];s[e]||(s[e]={}),s[e][t]=r}return Object.keys(e).map(function(s){var u=e[s];"object"==typeof u&&Object.keys(u).map(function(e){if("function"==typeof i[e]){var d="function"==typeof t.get?t.get(s):t[s],f=i[e](s,d,u[e],r,t,u,n,a);(0,o.default)(f)?l.push(new Promise(function(t,r){f.then(t).catch(function(r){c(s,e,r),t()})})):f&&c(s,e,f)}})}),Promise.all(l).then(function(){if(Object.keys(s).length)return Promise.reject(s)})}}function u(e){return Object.keys(e).filter(function(t){return"object"==typeof e[t]&&e[t].validateOnBlur})}s(a.default)},537:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=l(r(1)),i=l(r(538));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(t.CopyToClipboard=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return r=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClick=function(e){var t=n.props,r=t.text,a=t.onCopy,l=t.children,s=t.options,c=o.default.Children.only(l),u=(0,i.default)(r,s);a&&a(r,u),c&&c.props&&"function"==typeof c.props.onClick&&c.props.onClick(e)},s(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),r=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["text","onCopy","options","children"]),a=o.default.Children.only(t);return o.default.cloneElement(a,n({},r,{onClick:this.onClick}))}}]),t}()).defaultProps={onCopy:void 0,options:void 0}},538:function(e,t,r){"use strict";var n=r(539),a="Copy to clipboard: #{key}, Enter";e.exports=function(e,t){var r,o,i,l,s,c,u=!1;t||(t={}),r=t.debug||!1;try{if(i=n(),l=document.createRange(),s=document.getSelection(),(c=document.createElement("span")).textContent=e,c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",document.body.appendChild(c),l.selectNode(c),s.addRange(l),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(n){r&&console.error("unable to copy using execCommand: ",n),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e),u=!0}catch(n){r&&console.error("unable to copy using clipboardData: ",n),r&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:a),window.prompt(o,e)}}finally{s&&("function"==typeof s.removeRange?s.removeRange(l):s.removeAllRanges()),c&&document.body.removeChild(c),i()}return u}},539:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||r.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},94:function(e,t,r){"use strict";var n=r(1),a=r.n(n),o=r(8),i=r(45),l=r.n(i);t.a=(()=>a.a.createElement(o.a,null,e=>a.a.createElement("div",{className:"app-logo"},a.a.createElement("img",{src:l.a.brand.logo,alt:"App logo"}),a.a.createElement("p",{className:"text-uppercase text-center"},l.a.brand.name))))}}]);