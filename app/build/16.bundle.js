(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1097:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),l=a(12),r=a(39),i=a(1086),c=a(1083),o=a(8),m=a(200),d=a(13),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e};const p=a(45).i18n.languages;class g extends s.Component{constructor(e){super(e),this.submitHandler=(e=>{this.props.saveSettings(e)}),this.state={languages:p},this.resetForm=this.resetForm.bind(this)}renderDropdownList({input:e,data:t,valueField:a,textField:s}){return n.a.createElement(m.DropdownList,u({},e,{data:t,className:"drop-down-dark",valueField:a,textField:s}))}resetForm(){this.props.reset(),this.props.cancelChangedSettings()}render(){const{handleSubmit:e}=this.props;return n.a.createElement(o.a,null,t=>n.a.createElement("form",{className:"settings-form",onSubmit:e(this.submitHandler)},n.a.createElement("section",null,n.a.createElement("h2",null,t("dashboard:settings.mining")),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-form-label col-2 text-secondary text-small"},t("common:interface.disk")),n.a.createElement("div",{className:"col-6"},n.a.createElement(i.a,{name:"partition",className:"drop-down-dark",component:this.renderDropdownList,data:this.props.driveList,valueField:"value"}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-form-label col-2 text-secondary text-small"},t("auth:alias.title")),n.a.createElement("div",{className:"col-6"},n.a.createElement(i.a,{className:"form-control form-field",name:"machine_name",type:"text",component:"input",defaultValue:this.props.alias,placeholder:t("auth:alias.title")})))),n.a.createElement("section",null,n.a.createElement("h2",null,t("common:interface.currency")),n.a.createElement("div",{className:"form-group row currency-drop-down"},n.a.createElement("label",{className:"col-form-label col-2 text-secondary text-small"},t("common:interface.currency")),n.a.createElement("div",{className:"col-6"},n.a.createElement(i.a,{name:"currency",className:"drop-down-dark",component:this.renderDropdownList,data:this.props.rates,textField:"name"})))),n.a.createElement("section",null,n.a.createElement("h2",null,t("common:interface.ui")),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-form-label col-2 text-secondary text-small"},t("common:interface.language")),n.a.createElement("div",{className:"col-6"},n.a.createElement(i.a,{name:"language",className:"drop-down-dark",component:this.renderDropdownList,data:this.state.languages,textField:"title"})))),n.a.createElement("div",{className:"row offset-2 mt-4"},n.a.createElement("div",{className:"d-flex w-100 col-auto pl-1 settings-buttons"},n.a.createElement("button",{type:"button",onClick:this.props.setDefaultSettings,className:"btn button-calm mr-5"},t("dashboard:settings.defaultSettings")),n.a.createElement("div",{className:"ml-auto"},n.a.createElement("button",{type:"submit",className:"btn button-calm btn-primary mr-3"},t("common:interface.save")),n.a.createElement("button",{type:"button",className:"btn button-calm btn-primary",onClick:this.resetForm},t("common:interface.cancel")))))))}}g=Object(l.connect)((e,t)=>({initialValues:t.initialValues}))(g);var h=Object(c.a)({form:"settingsForm",enableReinitialize:!0})(g);t.default=Object(l.connect)(e=>({loading:d.SettingsSelectors.selectLoading(e),rates:d.SettingsSelectors.selectRates(e),driveList:d.SettingsSelectors.selectDriveList(e),initialValues:Object(d.selectInitialValues)(e),success:d.SettingsSelectors.selectSaveSuccess(e)}),e=>({loadDefaultSettings:()=>e(d.default.loadDefaultSettings()),saveSettings:t=>e(d.default.saveSettingsRequest(t)),setDefaultAppSettings:()=>e(d.default.setDefaultAppSettings()),cancelChangedSettings:()=>e(d.default.cancelSettingsChanges())}))(class extends s.Component{constructor(e){super(e),this.setDefaultSettings=this.setDefaultSettings.bind(this),this.cancelChangedSettings=this.cancelChangedSettings.bind(this)}componentDidMount(){this.props.loadDefaultSettings()}setDefaultSettings(){this.props.setDefaultAppSettings()}cancelChangedSettings(){this.props.cancelChangedSettings()}renderSaveFeedback(e){if(this.props.success)return n.a.createElement(r.d,null,e("dashboard:settings.saveSettingsSuccess"))}render(){return n.a.createElement(o.a,null,e=>this.props.loading?n.a.createElement("div",null,e("dashboard:settings.loading")):n.a.createElement("div",null,this.renderSaveFeedback(e),n.a.createElement(h,{initialValues:this.props.initialValues,setDefaultSettings:this.setDefaultSettings,cancelChangedSettings:this.cancelChangedSettings,saveSettings:this.props.saveSettings,rates:this.props.rates,driveList:this.props.driveList})))}})}}]);